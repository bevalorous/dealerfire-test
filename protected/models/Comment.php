<?phprequire_once('base/TableModel.php');class Comment extends TableModel{    public function tableName()    {        return 'tbl_comment';    }           public function attributeNames()    {        return array(            'author',            'createTime',            'email',            'content',        );    }                public function validate()    {        $this->_errors = array();                $author = trim($this->getAttribute('author'));        if (empty($author))            $this->addError('author', tr('Comment', "Field 'Name' is required"));        elseif (strlen($author)>100)               $this->addError('author', tr('Comment', "Field 'Name' is too long (max = 100)"));                    $emailPattern = '/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/';        $email = trim($this->getAttribute('email'));        if (empty($email))            $this->addError('email', tr('Comment', "Field 'E-mail' is required"));        elseif (strlen($email)>100)               $this->addError('email', tr('Comment', "Field 'E-mail' is too long (max = 100)"));        elseif (!preg_match($emailPattern, $email))            $this->addError('email', tr('Comment', "Field 'E-mail' must be correct e-mail address"));                    $content = trim($this->getAttribute('content'));        if (empty($content))            $this->addError('content', tr('Comment', "Field 'Your comment text' is required"));                    return !count($this->_errors);                }}